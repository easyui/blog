# Dart Tips


## :smile:变量的声明必须使用 ‘const’, ‘final’, ‘var’ 或者 其他type name
a = 123 //error

## :smile:在什么情况下reflectClass(o.runtimeType)从reflect(o).type返回不同的结果？
当类重写runtimeType成员时,您将得到不同的结果.基本上,对象可以位于其类型上.

## :smile:可以将静态方法作为编译时常量。例如，你可以将静态方法作为一个参数传递给一个常量构造函数。

## :smile:两个使用相同构造函数相同参数值构造的编译时常量是同一个对象

## :smile:如果类生成的对象都是不变的，可以在生成这些对象时就将其变为编译时常量。你可以在类的构造函数前加上 const 关键字并确保所有实例变量均为 final 来实现该功能。

## :smile:final与const区别
1、使用范围：

final只能修饰变量；const可以修饰变量、常量构造函数、变量值（放在“=”右边）；

1.1. const可以修饰引用变量时，必须调用常量构造函数；

1.2. const修饰构造函数时，称为常量构造函数，该类的所有成员都必须使用final修饰；即该类的对象创建之后不可修改属性。

1.3. const修饰变量值时，它意味着对象的整个状态编译时完全确定，并且完全不可变；
```
var a=1;
var list=const  {a,2,3,4};//报错，集合元素必須是编译时常量
list[1]=66;//报错，不允许对集合做任何改变
```

2.变量初始化时机：
final变量在第一次使用时被初始化，可在声明时赋值也可在构造函数中赋值。
const变量是在编译时初始化，必须在声明时赋值，且赋值内容必须在编译时确定。赋值内容将作为常量保存，之后声明相同内容的const变量将会直接复用。
```
final time = DateTime.now();//不会报错
const time = DateTime.now();//将会报错
```

[Dart final与const区别](https://www.jianshu.com/p/1b7b9fe41779)

实例变量 可以是 final 的但不可以是 const，



## :smile:所有变量引用的都是 对象，每个对象都是一个 类 的实例。数字、函数以及 null 都是对象。除去 null 以外（如果你开启了 空安全）, 所有的类都继承于 Object 类。

## :smile:如果你想要显式地声明允许任意类型，使用 Object?（如果你 开启了空安全）、 Object 或者 特殊类型 dynamic 将检查延迟到运行时进行。

## :smile: Dart 中一切皆为对象，数字也不例外。

## :smile:若你启用了空安全，你必须在使用变量前初始化它的值。
你并不需要在声明变量时初始化，只需在第一次用到这个变量前初始化即可。例如，下面的代码是正确的，因为 Dart 可以在 lineCount 被传递到 print() 时检测它是否为空:
```
int lineCount;

if (weLikeToCount) {
  lineCount = countLines();
} else {
  lineCount = 0;
}

print(lineCount);
```
顶级变量以及类变量是延迟初始化的，即检查变量的初始化会在它第一次被使用的时候完成。

## :smile:实例变量 可以是 final 的但不可以是 const，


## :smile:
## :smile:
## :smile:

## :smile:
## :smile:
## :smile:
## :smile:
## :smile:
## :smile:

## :smile:
## :smile:
## :smile:
## :smile:
## :smile:
## :smile:
